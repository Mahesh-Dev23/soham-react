(this["webpackJsonpsoham-react-git"]=this["webpackJsonpsoham-react-git"]||[]).push([[0],{136:function(e,t,n){},316:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(22),i=n.n(s),l=(n(136),n(4)),r=n(6),o=(n(89),n(90),n(0));var d=function(e){return Object(o.jsx)(o.Fragment,{children:e.children})},j=n.p+"static/media/siddhivinayak.b5adc4f7.png",u=n.p+"static/media/bg.62641cf2.jpg";var b=function(){var e=Object(c.useContext)(ke);return Object(o.jsxs)("header",{className:"App-header",style:{backgroundImage:"url(".concat(u,")"),backgroundRepeat:"no-repeat"},children:[Object(o.jsx)("p",{children:"Welcom to Soham Logistics!"}),Object(o.jsx)("img",{src:j,className:"App-logo",alt:"logo"}),Object(o.jsx)("button",{className:"button start",onClick:function(){return e.countDispatch({type:"main",value:"Main"})},children:"Start"})]})};var p=function(e){var t=e.label,n=e.value,a=e.style,s=e.type,i=e.placeholder,l=e.del,r=e.id,d=(e.inputchange,Object(c.useRef)(""));return Object(c.useEffect)((function(){})),Object(o.jsxs)("div",{className:"form-group",id:r,children:[t?Object(o.jsx)("label",{className:"form-input-label",children:t}):null,Object(o.jsx)("input",{ref:d,className:"form-input",onChange:function(e){e.target.value},value:n,style:a,type:s,placeholder:i,otherprops:!0}),l||""]})},h=n(14),O=n(38),x=n.n(O);n(65);function m(){var e=Object(c.useContext)(ke),t=Object(c.useState)(),n=Object(l.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(),r=Object(l.a)(i,2),d=r[0],j=r[1],u=Object(c.useState)(!1),b=Object(l.a)(u,2);b[0],b[1];Object(c.useEffect)((function(){s(new Date("01/01/2021")),j(new Date)}),[]);var p=function(){e.countDispatch({type:"searchByDate",value:"",startDate:a,endDate:d})};return Object(c.useEffect)((function(){p()}),[]),Object(o.jsxs)("div",{className:"searchDatePad",children:[Object(o.jsx)("div",{className:"searchbyDate",children:Object(o.jsx)(x.a,{selected:a,dateFormat:"dd/MM/yyyy",onChange:function(e){return s(e)}})}),Object(o.jsx)("div",{className:"searchbyDate",children:Object(o.jsx)(x.a,{selected:d,dateFormat:"dd/MM/yyyy",onChange:function(e){return j(e)}})}),Object(o.jsx)("div",{className:"searchbyDate",style:{width:"40px",paddingTop:"10px"},children:Object(o.jsx)("button",{type:"button",className:"roundClick",onClick:p,children:Object(o.jsx)(h.a,{})})})]})}var g=a.a.memo(m);var f=function(){var e=Object(c.useContext)(ke),t=Object(c.useState)(),n=Object(l.a)(t,2);return n[0],n[1],Object(o.jsx)("div",{children:Object(o.jsxs)("nav",{children:[Object(o.jsx)("li",{children:Object(o.jsx)("a",{onClick:function(){return e.countDispatch({type:"main",value:"Main"})},children:"Home"})}),Object(o.jsx)("li",{children:Object(o.jsx)("a",{onClick:function(){return e.countDispatch({type:"main",value:"ClientList"})},children:"Clients"})}),Object(o.jsx)("li",{children:Object(o.jsx)("a",{onClick:function(){return e.countDispatch({type:"main",value:"LoadingUnloading"})},children:"Loading/UnLoading"})}),Object(o.jsxs)("li",{children:[Object(o.jsx)("a",{onClick:function(){return e.countDispatch({type:"main",value:"Status"})},children:"Schedules"}),"  "]}),Object(o.jsxs)("li",{children:[Object(o.jsxs)("a",{onClick:function(){return e.countDispatch({type:"main",value:"Print"})},children:["Reports and Print ",Object(o.jsx)(h.c,{})]}),"  "]})]})})},v=n(30),y=n.n(v),C=n(12),k=n.n(C),N=n(17);var w=function(e){var t=e.nameCheck,n=Object(c.useContext)(Ne).map((function(e){return e.clientName})),a=function(e){var c;for(c=0;c<=n.length;c++)n[c]===e&&t(n[c])};return a(),Object(o.jsxs)("form",{name:"addclientform",id:"getClient",children:[Object(o.jsx)(p,{label:"Client's Name",onchange:a}),Object(o.jsx)(p,{label:"Consigner1"}),Object(o.jsx)(p,{label:"Consigner2"}),Object(o.jsx)(p,{label:"Consigner3"}),Object(o.jsx)(p,{label:"Consigner4"})]})},S=n(19),P=(n(42),n(20)),D=n.n(P);var I=function(e){var t,n=e.onclick,a=Object(c.useState)(""),s=Object(l.a)(a,2),i=s[0],r=s[1],d=Object(c.useContext)(ke);return Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{className:"modalTitle",children:"  Add Client "}),Object(o.jsx)(w,{nameCheck:function(){return r()}}),Object(o.jsx)("button",{className:"formButton",onClick:function(){return function(){var e=document.getElementById("getClient"),c=[];if(i)S.a.warn("Data can not be created with the client name that already exits!",{position:S.a.POSITION.BOTTOM_CENTER});else{var a;for(a=1;a<e.length;a++)e.elements[a].value&&c.push(e.elements[a].value);t={clientName:e.elements[0].value,consigner:c},function(){var e=Object(N.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.post("http://localhost:5000/client",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),S.a.success(JSON.stringify(t),{position:S.a.POSITION.BOTTOM_CENTER}),d.countDispatch({type:"modal",value:"",modal:!1}),n(!1)}}()},children:"Submit"})]})};var B=function(e){var t=e.label,n=e.option,c=e.id,a=e.selected;return e.selectedId,document.getElementsByClassName("selectName"),Object(o.jsxs)("div",{className:"form-group",children:[t?Object(o.jsx)("label",{className:"form-input-label",children:t}):null,Object(o.jsx)("select",{name:"select",id:c,onChange:function(e){return t=e.target.value,void a(t);var t},children:n.map((function(e){return Object(o.jsx)("option",{value:e,className:"selectName",children:e},e)}))})]})};var T=function(e){var t=e.label,n=e.option,c=e.id,a=e.selected,s=e.selectedId;return document.getElementsByClassName("selectName"),Object(o.jsxs)("div",{className:"form-group",children:[t?Object(o.jsx)("label",{className:"form-input-label",children:t}):null,Object(o.jsxs)("select",{name:"select",id:c,onChange:function(e){return t=e.target.value,void a(t);var t},children:[Object(o.jsx)("option",{value:s,className:"selectName",selected:!0,children:s},s),n.map((function(e){return Object(o.jsx)("option",{value:e,className:"selectName",children:e},e)}))]})]})};var R=function(e){return console.log(e),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:e.label}),Object(o.jsx)(x.a,{selected:e.selected,dateFormat:"dd/MM/yyyy",onChange:function(t){return n=t,void e.newDate(n);var n},minDate:e.min})]})},L=function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("http://localhost:5000/consignments");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(N.a)(k.a.mark((function e(t){var n,c,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://localhost:5000/".concat(t),e.next=3,fetch(n);case 3:return c=e.sent,e.next=6,c.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var E=function(e){var t=e.onclick,n=e.clientId,a=e.clientName,s=e.seltectedConsignerFromClientr,i=Object(c.useContext)(Ne),r=(Object(c.useContext)(we),s||i[0].consigner),d=Object(c.useState)(),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(c.useState)(r),O=Object(l.a)(h,2),x=O[0],m=O[1],g=Object(c.useState)(null),f=Object(l.a)(g,2),v=f[0],y=f[1],C=Object(c.useState)(v),w=Object(l.a)(C,2),P=w[0],I=w[1],W=Object(c.useState)(null),E=Object(l.a)(W,2),A=E[0],U=E[1],F=Object(c.useState)(0),M=Object(l.a)(F,2),J=M[0],z=M[1],X=Object(c.useState)(0),G=Object(l.a)(X,2),Y=G[0],_=G[1],H=Object(c.useState)([]),q=Object(l.a)(H,2),V=q[0],K=q[1];console.log(V.length);var Q,Z,$=Object(c.useContext)(ke),ee=[],te=i.map((function(e){return e.clientName})),ne=function(e){b(e)},ce=document.getElementById("addCons"),ae=parseInt(V.length)+1;console.log(ae+1),Q=n||u;var se=function(e){return _(e)},ie=function(e){return z(e)};return Object(c.useEffect)((function(){se(),ie(),L().then((function(e){return K(e.data)}))}),[]),console.log("..."+x),Object(c.useEffect)((function(){i.filter((function(e,t){e.clientName===Q&&m(e.consigner)})),console.log(Q)}),[Q]),console.log("cons: "+x),Object(o.jsx)("div",{children:Object(o.jsxs)("div",{style:{width:"1210px",margin:"auto"},children:[Object(o.jsx)("h3",{className:"modalTitle",children:"  Add New Consignment "}),Object(o.jsxs)("form",{name:"addclientform",id:"addCons",style:{width:"1010px"},children:[Object(o.jsxs)("div",{className:"formSec",children:[Object(o.jsx)(T,{label:"Client's Name",option:te,id:"selectedClientName",selected:ne,selectedId:a||te[0]}),Object(o.jsx)(B,{label:"Consigner",option:x}),Object(o.jsx)(p,{label:"Consignee"}),Object(o.jsx)(R,{label:"Loading",selected:v,newDate:y,min:function(){return new Date}}),Object(o.jsx)(R,{label:"Unoading",selected:P,newDate:I,min:v}),Object(o.jsx)(p,{label:"Package"}),Object(o.jsx)(p,{label:"Weight"}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"C-Weight"}),Object(o.jsx)("input",{label:"C-Weight",id:"weight",onChange:function(e){return se(e.target.value)}})]})]}),Object(o.jsxs)("div",{className:"formSec",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Rate"}),Object(o.jsx)("input",{label:"Rate",id:"rate",onChange:function(e){return ie(e.target.value)}})]}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsxs)("p",{children:[" Amount = ",Y&&J?Y*J:0," "]})}),Object(o.jsx)(B,{label:"Payment",option:["To Pay","Paid"],selected:ne}),Object(o.jsx)(p,{label:"Remark"}),Object(o.jsx)(p,{label:"Tempo"}),Object(o.jsx)(R,{label:"Delivery",selected:A,newDate:U,min:function(){return new Date}}),Object(o.jsx)(p,{label:"Book No"}),Object(o.jsx)(p,{label:"Page No"})]})]}),Object(o.jsx)("button",{className:"formButton",onClick:function(){var e;for(e=0;e<ce.length;e++)ee.push(ce.elements[e].value);var n=ee[4].slice(0,5)+" U";Z={client:ee[0]+"/"+n+"/"+ae,consigner:ee[1],consignee:ee[2],loading:ee[3],uloading:ee[4],load:Date.parse(ee[3].slice(3,6)+ee[3].slice(0,3)+ee[3].slice(6,10)),unload:Date.parse(ee[4].slice(3,6)+ee[4].slice(0,3)+ee[4].slice(6,10)),Pod:n,package:ee[5],package1:ee[5],weight:ee[6],cWeight:ee[7],rate:ee[8],amount:ee[8]*ee[7],payment:ee[9],remark:ee[10],tempo:ee[11],delivery:ee[12],delv:Date.parse(ee[12].slice(3,6)+ee[12].slice(0,3)+ee[12].slice(6,10)),book:ee[13],page:ee[14]},function(){var e=Object(N.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.post("http://localhost:5000/consignments",Z);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),S.a.success(JSON.stringify("Consignment added: "+ee[0]+", by "+ee[1]+", to "+ee[2]+", of "+ee[6]+", for Rs."+ee[8]*ee[7]),{position:S.a.POSITION.BOTTOM_CENTER}),t(!1),$.countDispatch({type:"modal",value:"",modal:!1})},children:"Submit"})]})})},A=new Promise((function(e,t){var n=new Date;console.log(n.getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][n.getMonth()]+" "+n.getFullYear());var c=n.getMonth(),a=n.getDate(),s=c+1,i=function(e,t){return t=e<=9?"0"+t:t};e(i(a,a)+"/"+i(c,s)+"/"+n.getFullYear()),t("Day not set")}));var U=function(e){var t=e.closeSchedule,n=Object(c.useContext)(we),a=(new Date).setHours(0,0,0,0);return console.log(a),Object(o.jsxs)("div",{className:"schedule",style:{height:"490px",overflowY:"scroll"},children:[Object(o.jsx)("h4",{children:"Today's Schedule"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h4",{children:"Delivery Today"}),n.map((function(e){return e.delv===a?Object(o.jsx)("h5",{children:"".concat(e.client,", Pkg: ").concat(e.package)}):null}))]}),Object(o.jsxs)("div",{style:{marginTop:"10px"},children:[Object(o.jsx)("h4",{children:"Unloading Today"}),n.map((function(e){return e.unload===a?Object(o.jsx)("h5",{children:"".concat(e.client,", Pkg: ").concat(e.package)}):null}))]}),Object(o.jsx)("button",{type:"button",className:"roundButton",onClick:function(){return t(!1)},children:" X "})]})};var F=function(e){var t=e.today,n=e.stateColor,a=Object(c.useState)(!1),s=Object(l.a)(a,2),i=s[0],r=s[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"welcome",children:[Object(o.jsx)("div",{className:"caption",children:Object(o.jsxs)("h4",{children:["Welcome to ",Object(o.jsx)("span",{style:{color:n},children:"Soham Logistics"})]})}),Object(o.jsxs)("div",{className:"datePad",children:[" ",Object(o.jsx)("h5",{children:"Search by Date"}),"   ",Object(o.jsx)(g,{})]}),Object(o.jsx)("div",{className:"today",onClick:function(){return r(!0)},children:t})]}),i?Object(o.jsx)(U,{closeSchedule:r}):null]})},M=n(60);var J=function(e){var t=e.total,n=e.stock,c=e.paid,a=e.unpaid,s=(e.paidColor,e.unpaidColor,{datasets:[{data:[c,a],backgroundColor:["#9acd32","#ff6347"],borderWidth:.5}]});return Object(o.jsxs)("div",{className:"result",children:[Object(o.jsxs)("p",{id:"p1",children:["Remaining Stock out of ",Object(o.jsx)("b",{children:t})]}),Object(o.jsx)("div",{style:{width:"50%",height:"50%",margin:"auto"},children:Object(o.jsx)(M.b,{data:s,width:150,height:150})}),Object(o.jsx)("h1",{style:{color:"#000080",marginTop:"-100px",marginBottom:"50px"},children:n}),Object(o.jsxs)("p",{style:{margin:"10px 0",marginTop:"20px"},children:[Object(o.jsxs)("span",{style:{color:"#ff6347",padding:"0 10px"},children:["Unpaid ",Object(o.jsx)("b",{children:a})]}),Object(o.jsxs)("span",{style:{color:"#9acd32",padding:"0 10px"},children:["Paid ",Object(o.jsx)("b",{children:c})]})]})]})},z=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t};var X=function(e){var t=e.wid,n=Object(c.useContext)(we),a=Object(c.useState)([]),s=Object(l.a)(a,2),i=(s[0],s[1]),r=Object(c.useState)([]),d=Object(l.a)(r,2),j=d[0],u=d[1],b=Object(c.useState)(),p=Object(l.a)(b,2),h=p[0],O=p[1],x=Object(c.useState)([]),m=Object(l.a)(x,2),g=m[0],f=m[1],v=[],y=function(){v=j.filter((function(e){return null!=e.client||void 0})),"lower"===h?v.sort((function(e,t){return e.amount-t.amount})):"higher"===h?v.sort((function(e,t){return t.amount-e.amount})):"alphabetic"===h?v.sort((function(e,t){var n=e.client.toLowerCase(),c=t.client.toLowerCase();return n<c?-1:n>c?1:0})):v.sort((function(e,t){var n=e.client.toLowerCase(),c=t.client.toLowerCase();return n<c?-1:n>c?1:0}))};return y(),console.log("sort "+v),Object(c.useEffect)((function(){i(n.map((function(e){return e?{client:e.client,consigner:e.consigner,consignee:e.consignee,PoD:e.Pod,package:e.package,package1:e.package1,weight:e.weight,cWeight:e.cWeight,rate:e.rate,remark:e.remark,payment:e.payment,amount:e.amount,loading:e.loading,UnLoading:e.uloading,id:e.id}:""}))),u(n.map((function(e){return"Paid"!=e.payment?{client:e.client,amount:e.rate*e.cWeight}:""}))),f(n.map((function(e){return"Paid"!=e.payment?parseInt(e.rate*e.cWeight):0})))}),[n]),Object(c.useEffect)((function(){y()}),[h]),Object(o.jsxs)("div",{className:"result",style:{width:"".concat(t)},children:[Object(o.jsx)("p",{style:{marginTop:"0"},children:" Pending bills per Consignment: "}),Object(o.jsxs)("p",{style:{marginTop:"0",marginBottom:"10px"},children:[" ",Object(o.jsx)("b",{children:" Rs. ".concat(z(g))})," "]}),Object(o.jsx)("button",{className:"tabButton",onClick:function(){return O("alphabetic")},children:"Alphabetic"}),Object(o.jsx)("button",{className:"tabButton",onClick:function(){return O("higher")},children:"Higher"}),Object(o.jsx)("button",{className:"tabButton",onClick:function(){return O("lower")},children:"Lower"}),Object(o.jsx)("div",{style:{color:"#dc143c"},children:v.map((function(e){return Object(o.jsxs)("div",{className:"pClient",style:{height:"35px",display:"block"},children:[Object(o.jsx)("h4",{style:{width:"200px",float:"left",margin:"0",padding:"0"},children:Object(o.jsx)("span",{style:{width:"200px",textAlign:"left"},children:"".concat(e.client,": ")})}),Object(o.jsx)("h4",{style:{textAlign:"right",float:"left",margin:"0",padding:"0"},children:"Rs. ".concat(e.amount)})]})}))})]})};var G=function(e){var t=e.totalAmt;return Object(o.jsxs)("div",{className:"result",style:{background:"#dcdcdc",borderTop:"1px solid #dcdcdc",borderBottom:"1px solid #dcdcdc",padding:"20px"},children:[Object(o.jsx)("p",{id:"p2",children:"Pending bills"}),Object(o.jsxs)("h1",{style:{color:"#dc143c",background:"white",borderRadius:"10px",width:"auto",marginTop:"10px"},children:[Object(o.jsx)("span",{style:{fontSize:"20px",color:"gray"},children:"Rs. "}),t]})]})};var Y=function(e){var t={labels:["Paid-Delivered","Paid-Undelivered","Unpaid-Undelivered","Unpaid-Delivered"],datasets:[{label:"",data:[e.closed,e.paid,e.unpaid,e.opened],backgroundColor:["#888888","#9acd32","#ff6347","#dc143c"]}]};return Object(o.jsxs)("div",{className:"result2",style:{background:"white",width:"340px",padding:"10px",height:"auto"},children:[Object(o.jsx)("div",{style:{margin:"auto"},children:Object(o.jsx)(M.a,{data:t,options:{indexAxis:"y",responsive:!0}})}),Object(o.jsx)("p",{style:{fontSize:"14px"},children:"Consignment Status"})]})};var _=function(e){var t=e.cl,n=e.content,c=e.label;return Object(o.jsxs)("div",{className:t,children:[Object(o.jsx)("h3",{children:n}),Object(o.jsx)("p",{className:"pCons",children:Object(o.jsxs)("span",{children:[c," "]})})]})};var H=function(e){e.modalOut,e.modalContentOut;var t=e.colorsStates,n=e.todayInSeconds,a=Object(c.useContext)(we),s=Object(c.useState)([]),i=Object(l.a)(s,2),r=i[0],d=i[1],j=Object(c.useState)([]),u=Object(l.a)(j,2),b=u[0],p=u[1],h=Object(c.useState)([]),O=Object(l.a)(h,2),x=O[0],m=O[1],g=Object(c.useState)([]),v=Object(l.a)(g,2),C=v[0],k=v[1],N=Object(c.useState)([]),w=Object(l.a)(N,2),S=w[0],P=w[1],D=Object(c.useState)(!1),B=Object(l.a)(D,2),T=B[0],R=B[1],L=Object(c.useState)(),W=Object(l.a)(L,2),U=W[0],M=W[1],z=Object(c.useState)([]),H=Object(l.a)(z,2),q=(H[0],H[1],Object(c.useState)()),V=Object(l.a)(q,2),K=V[0],Q=V[1],Z=U,$=[],ee=[],te=[],ne=[],ce=[],ae=[],se=[],ie=[];A.then((function(e){Q(e)}));var le=function(e,t){R(e),M(t)},re=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t},oe=function(e,t,c,s){return d(a.map((function(e){return e?{client:e.client,consigner:e.consigner,consignee:e.consignee,PoD:e.Pod,package:e.package,package1:e.package1,weight:e.weight,cWeight:e.cWeight,rate:e.rate,remark:e.remark,payment:e.payment,amount:e.amount,loading:e.loading,UnLoading:e.uloading,load:e.load,unload:e.unload,id:e.id}:""}))),p(a.map((function(e){return"Paid"!=e.payment?e.rate*e.cWeight:0}))),m(a.map((function(e){return"Paid"!=e.payment?{client:e.client,amount:e.rate*e.cWeight}:""}))),k(a.map((function(e){return e.unload<n?1*e.package:null}))),P(a.map((function(e){return e.unload<n?1*e.package1:null}))),e+t};return Object(c.useEffect)((function(){oe()}),[]),Object(c.useEffect)((function(){oe()}),[a]),function(){x.sort();for(var e=0;e<r.length;e++)r[e].package1>0&&"Paid"!=r[e].payment&&r[e].amount>1e4&&$.push({client:r[e].client,amount:r[e].amount,package1:r[e].package1}),r[e].unload<n&&r[e].package1>0&&"Paid"!=r[e].payment&&ee.push(parseInt(r[e].package1)),r[e].unload<n&&r[e].package1>0&&"Paid"===r[e].payment&&te.push(parseInt(r[e].package1)),r[e].package1<=0&&"Paid"!=r[e].payment&&ne.push({client:r[e].client,amount:r[e].amount,package1:r[e].package1}),(r[e].package1>0&&"Paid"!=r[e].payment||r[e].package1>0&&"Paid"===r[e].payment||r[e].package1<=0&&"Paid"!=r[e].payment)&&se.push(parseInt(r[e].package1)),r[e].package1<=0&&"Paid"===r[e].payment&&ie.push(parseInt(r[e].package1)),r[e].unload===n&&ce.push(r[e].client),r[e].delv===n&&ae.push(r[e].client);$.sort((function(e,t){for(var n=0;n<3;n++)return t.amount-e.amount}))}(),console.log(ce),Object(o.jsxs)("div",{id:"main",children:[Object(o.jsxs)("div",{className:"main",children:[Object(o.jsx)(F,{today:K,stateColor:t.colorStateDBlue}),Object(o.jsx)("div",{className:"resultBox",style:{height:"480px",overflowY:"scroll"},children:Object(o.jsx)(X,{})}),Object(o.jsxs)("div",{className:"resultBox",style:{borderRight:"1px solid #dcdcdc",borderLeft:"1px solid #dcdcdc",height:"495px",backgroundColor:"white"},children:[Object(o.jsx)(J,{total:re(C),stock:re(S),unpaid:re(ee),paid:re(te),paidColor:t.colorStateGreen,unpaidColor:t.colorStateOrange}),Object(o.jsx)(G,{totalAmt:re(b)}),Object(o.jsxs)("div",{className:"result",children:[Object(o.jsx)("button",{type:"button",style:{marginRight:"2px"},className:"button ",onClick:function(){return le(!0,"Consignment")},children:" Add Consignment"}),Object(o.jsx)("button",{type:"button",className:"button ",onClick:function(){return le(!0,"Client")},fromClient:le,children:" Add Client "})]})]}),Object(o.jsxs)("div",{className:"resultBox",style:{padding:"0px"},children:[Object(o.jsx)(_,{cl:"result2",content:$.length,label:"Undelevered consignments above Rs.10000"}),Object(o.jsx)(_,{cl:"result2",content:ne.length,label:"Unpaid consignments post delivery"}),Object(o.jsx)(_,{cl:"result2",content:ce.length,label:"Consignments unloading today"}),Object(o.jsx)(_,{cl:"result2",content:ae.length,label:"Consignments delivery today"}),Object(o.jsx)(Y,{closed:ie.length,paid:te.length,unpaid:ee.length,opened:ne.length})]})]}),Object(o.jsx)(f,{}),Object(o.jsxs)(y.a,{isOpen:T,style:{overlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(20, 20, 20, 0.9)",backdropFilter:"blur(10px)",zIndex:999},content:{inset:0,background:"rgba(40, 44, 52, 0)"}},content:Z,children:["Client"===Z?Object(o.jsx)(I,{onclick:function(){return le()}}):"Consignment"===Z?Object(o.jsx)(E,{onclick:function(){return le()}}):"",Object(o.jsx)("button",{type:"button",className:"roundButton",onClick:function(){return le(!1,"")},children:" X "})]})]})};var q=function(e){e.onclick;var t,n=e.id,a=e.noId,s=Object(c.useState)(),i=Object(l.a)(s,2),r=i[0],d=i[1],j=Object(c.useState)([]),u=Object(l.a)(j,2),b=u[0],h=u[1],O=function(){var e=Object(N.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("http://localhost:5000/client/".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=Object(c.useContext)(ke);return function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(),Object(c.useEffect)((function(){var e,t;O().then((function(e){e.data.consigner.map((function(e){return e})),d(e.data.clientName),h(e.data.consigner.map((function(e){return e})))})),b[t]=e}),[]),Object(o.jsxs)("div",{className:"clientUpdate",children:[Object(o.jsx)("h3",{className:"modalTitle",children:"  Update Client "}),Object(o.jsxs)("form",{name:"addclientform",id:"getClient",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Client's Name"}),Object(o.jsx)("input",{value:r,onChange:function(e){return d(e.target.value)}})]}),b.map((function(e,t){return Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Consigner".concat(t+1)}),Object(o.jsx)("input",{placeholder:e})," "]})})),Object(o.jsx)(p,{label:"Add more Consigner"})]}),Object(o.jsx)("button",{className:"formButton",onClick:function(){return function(e,c){var a=document.getElementById("getClient");b.push(a.elements[a.length-1].value),t={clientName:a.elements[0].value?a.elements[0].value:r,consigner:b},function(){var e=Object(N.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.put("http://localhost:5000/client/".concat(n),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),S.a.success(JSON.stringify(t),{position:S.a.POSITION.BOTTOM_CENTER}),x.countDispatch({type:"modal",value:"",modal:!1})}()},children:"Submit"}),Object(o.jsx)("button",{type:"button",className:"roundButton",onClick:function(){return a(e);var e},children:" X "})]})};var V=function(e){var t=e.resName,n=e.clickedId,a=(Object(c.useContext)(Ne),Object(c.useState)(!1)),s=Object(l.a)(a,2),i=s[0],r=s[1],d=Object(c.useState)(),j=Object(l.a)(d,2),u=j[0],b=j[1],p=Object(c.useState)(),O=Object(l.a)(p,2),x=O[0],m=O[1],g=Object(c.useState)(),f=Object(l.a)(g,2),v=f[0],C=f[1],k=function(e){r(e)};return Object(o.jsxs)("div",{className:"clientList",children:[Object(o.jsxs)("div",{className:"clientName",children:[Object(o.jsx)("p",{children:"Client:"}),Object(o.jsx)("h4",{children:t.clientName})]}),Object(o.jsx)("div",{className:"consigner",children:t.consigner.map((function(e){return Object(o.jsx)("p",{children:e})}))}),Object(o.jsxs)("div",{className:"listButtons",children:[Object(o.jsxs)("button",{type:"button",className:"roundClick",onClick:function(){return e=t.id,n(e);var e},children:[" ",Object(o.jsx)(h.b,{})," "]}),Object(o.jsxs)("button",{type:"button",className:"roundClick",onClick:function(){return function(e,t,n,c){r(e),b(t-1),m(n),C(c)}(!0,t.id,t.clientName,t.consigner)},children:[" ",Object(o.jsx)(h.e,{})," "]})]}),Object(o.jsxs)(y.a,{isOpen:i,style:{overlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(20, 20, 20, 0.9)",backdropFilter:"blur(10px)",zIndex:999},content:{inset:0,background:"rgba(40, 44, 52, 0)"}},children:[Object(o.jsx)(E,{onclick:function(){return k()},clientId:u,clientName:x,seltectedConsignerFromClientr:v}),Object(o.jsx)("button",{type:"button",className:"roundButton",onClick:function(){return k(!1)},children:" X "})]})]})};var K=function(e){var t=e.listData,n=e.len,a=e.entries,s=Object(c.useState)(1),i=Object(l.a)(s,2),r=i[0],d=i[1],j=Object(c.useState)(a),u=Object(l.a)(j,2),b=u[0],p=(u[1],r*b),h=p-b,O=t.slice(h,p),x=[];if(n>b)for(var m=1;m<=Math.ceil(n/b);m++)x.push(m);return Object(o.jsxs)(o.Fragment,{children:[O,Object(o.jsx)("ul",{className:"pagination",children:x.map((function(e){return Object(o.jsx)("li",{onClick:function(){return d(e)},href:"!#",children:e},e)}))})]})};function Q(){var e=Object(c.useContext)(Ne),t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(),r=Object(l.a)(i,2),d=r[0],j=r[1],u=function(e){return j(e)},b=function(e){return s(e)},p=e.map((function(e){return Object(o.jsx)(V,{resName:e,clickedId:u})}));return Object(o.jsxs)("div",{className:"clientDisplay",children:[Object(o.jsx)("h3",{className:"title",children:"Client List"}),Object(o.jsx)("button",{type:"button",className:"button center",onClick:function(){return b(!0)},children:" Add Client "}),Object(o.jsx)(K,{listData:p,len:p.length,entries:8}),d?Object(o.jsx)(q,{id:d,noId:function(e){return j(e)}}):"",Object(o.jsxs)(y.a,{isOpen:a,style:{overlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(20, 20, 20, 0.9)",backdropFilter:"blur(10px)",zIndex:999},content:{inset:0,background:"rgba(40, 44, 52, 0)"}},children:[Object(o.jsx)(I,{onclick:function(){return b()}}),Object(o.jsx)("button",{type:"button",className:"roundButton",onClick:function(){return b(!1)},children:" X "})]}),Object(o.jsx)(f,{})]})}var Z=n(127),$=n.n(Z),ee=n(7),te=n(8),ne=n(11),ce=n(10),ae=function(e){Object(ne.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ee.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={},e}return Object(te.a)(n,[{key:"render",value:function(){return Object(o.jsx)("div",{children:this.props.children})}}]),n}(a.a.PureComponent);var se=function(e){var t=e.today,n=e.stateColor;return Object(o.jsxs)("div",{className:"welcome2",children:[Object(o.jsx)("div",{className:"caption",children:Object(o.jsxs)("h4",{children:["Welcome to ",Object(o.jsx)("span",{style:{color:n},children:"Soham Logistics"})]})}),Object(o.jsxs)("div",{className:"datePad",children:[" ",Object(o.jsx)("h5",{children:"Search by Date"}),"   ",Object(o.jsx)(g,{})]}),Object(o.jsx)("div",{className:"today",children:t})]})};var ie=function(e){var t=e.colorsStates,n=e.todayIs,a=Object(c.useContext)(we),s=Object(c.useState)([]),i=Object(l.a)(s,2),r=i[0],d=i[1],j=Object(c.useState)([]),u=Object(l.a)(j,2),b=u[0],p=u[1],h=Object(c.useState)([]),O=Object(l.a)(h,2),x=O[0],m=O[1],g=Object(c.useState)([]),f=Object(l.a)(g,2),v=f[0],y=f[1],C=Object(c.useState)([]),k=Object(l.a)(C,2),N=k[0],w=k[1],S=[],P=[],D=[],I=[],B=[],T=[];return Object(c.useEffect)((function(){d(a.map((function(e){return e?{client:e.client,consigner:e.consigner,consignee:e.consignee,PoD:e.Pod,package:e.package,package1:e.package1,weight:e.weight,cWeight:e.cWeight,rate:e.rate,remark:e.remark,payment:e.payment,amount:e.amount,loading:e.loading,UnLoading:e.uloading,id:e.id}:""}))),p(a.map((function(e){return"Paid"!=e.payment?e.rate*e.cWeight:0}))),m(a.map((function(e){return"Paid"!=e.payment?{client:e.client,amount:e.rate*e.cWeight}:""}))),y(a.map((function(e){return 1*e.package}))),w(a.map((function(e){return 1*e.package1})))}),[]),function(){x.sort();for(var e=0;e<r.length;e++)r[e].package1>0&&"Paid"!=r[e].payment&&r[e].amount>1e4&&S.push({client:r[e].client,amount:r[e].amount,package1:r[e].package1}),r[e].package1>0&&"Paid"!=r[e].payment&&P.push(parseInt(r[e].package1)),r[e].package1>0&&"Paid"===r[e].payment&&D.push(parseInt(r[e].package1)),r[e].package1<=0&&"Paid"!=r[e].payment&&I.push({client:r[e].client,amount:r[e].amount,package1:r[e].package1}),(r[e].package1>0&&"Paid"!=r[e].payment||r[e].package1>0&&"Paid"===r[e].payment||r[e].package1<=0&&"Paid"!=r[e].payment)&&B.push(parseInt(r[e].package1)),r[e].package1<=0&&"Paid"===r[e].payment&&T.push(parseInt(r[e].package1));S.sort((function(e,t){for(var n=0;n<3;n++)return t.amount-e.amount}))}(),Object(o.jsx)("div",{className:"print",children:Object(o.jsxs)("div",{children:[Object(o.jsx)(se,{today:n,stateColor:t.colorStateDBlue}),Object(o.jsxs)("div",{className:"resultBox",style:{borderRight:"1px solid #dcdcdc",borderLeft:"1px solid #dcdcdc",height:"500px",backgroundColor:"white"},children:[Object(o.jsx)(J,{total:z(v),stock:z(N),unpaid:z(P),paid:z(D),paidColor:t.colorStateGreen,unpaidColor:t.colorStateOrange}),Object(o.jsx)(G,{totalAmt:z(b)})]}),Object(o.jsxs)("div",{className:"resultBox",style:{padding:"0px",width:"500px"},children:[Object(o.jsx)(_,{cl:"result2",content:S.length,label:"Undelevered consignments above Rs.10000"}),Object(o.jsx)(_,{cl:"result2",content:I.length,label:"Unpaid consignments post delivery"}),Object(o.jsx)(_,{cl:"result2",content:[].length,label:"Consignments unloading today"}),Object(o.jsxs)("div",{className:"result2",children:[Object(o.jsxs)("h5",{style:{color:t.colorStateOrange},children:[Object(o.jsx)("span",{children:"Open: "}),B.length]}),Object(o.jsxs)("h5",{style:{color:t.colorStateGreen},children:[Object(o.jsx)("span",{children:"Closed: "}),T.length]}),Object(o.jsxs)("p",{className:"pCons",children:[Object(o.jsx)("span",{children:"Consignments stats "}),a.length]})]}),Object(o.jsx)(Y,{closed:T.length,paid:D.length,unpaid:P.length,opened:I.length})]})]})})};function le(e){var t=e.todayIs,n=Object(c.useContext)(Ne);n.sort((function(e,t){var n=e.clientName.toLowerCase(),c=t.clientName.toLowerCase();return n<c?-1:n>c?1:0}));var a=n.map((function(e){return Object(o.jsxs)("div",{style:{width:"800px",height:"40px",border:"1px solid gray"},children:[Object(o.jsx)("div",{style:{width:"300px",float:"left",textAlign:"left",padding:"10px",borderRight:"1px solid gray"},children:e.clientName}),Object(o.jsx)("div",{style:{float:"left",textAlign:"left",padding:"10px"},children:e.consigner.toString()})]})}));return Object(o.jsxs)("div",{style:{padding:"30px"},children:[Object(o.jsx)(se,{today:t}),Object(o.jsx)("h3",{children:"Client List"}),a]})}var re=function(e){var t=e.todayIs;return Object(o.jsxs)("div",{className:"print",children:[Object(o.jsx)(se,{today:t}),Object(o.jsx)(X,{wid:"500px"})]})};var oe=function(e){var t=e.todayIs,n=Object(c.useContext)(we),a=Object(c.useState)([]),s=Object(l.a)(a,2),i=(s[0],s[1]),r=Object(c.useState)([]),d=Object(l.a)(r,2),j=d[0],u=d[1],b=Object(c.useState)([]),p=Object(l.a)(b,2),h=p[0],O=p[1],x=Object(c.useState)([]),m=Object(l.a)(x,2),g=m[0],f=m[1],v=Object(c.useState)([]),y=Object(l.a)(v,2),C=y[0],k=y[1];Object(c.useEffect)((function(){i(n.map((function(e){return e?{client:e.client,consigner:e.consigner,consignee:e.consignee,PoD:e.Pod,package:e.package,package1:e.package1,weight:e.weight,cWeight:e.cWeight,rate:e.rate,remark:e.remark,payment:e.payment,amount:e.amount,loading:e.loading,UnLoading:e.uloading,id:e.id}:""}))),u(n.map((function(e){return e.package1>0?{client:e.client,pending:"".concat(e.package1," "),total:"".concat(e.package),payment:e.payment}:""}))),O(n.map((function(e){return"Paid"===e.payment?parseInt(e.package1):0}))),f(n.map((function(e){return"Paid"!==e.payment?parseInt(e.package1):0}))),k(n.map((function(e){return parseInt(e.package1)})))}),[]);var N=[];return(N=j.filter((function(e){return null!=e.client||void 0}))).sort((function(e,t){var n=e.client.toLowerCase(),c=t.client.toLowerCase();return n<c?-1:n>c?1:0})),Object(o.jsxs)("div",{className:"print",children:[Object(o.jsx)(se,{today:t}),Object(o.jsx)("p",{children:"Pending stocks per consignments"}),Object(o.jsxs)("div",{style:{margin:"10px auto",width:"520px",height:"30px"},children:[Object(o.jsx)("div",{style:{width:"150px",padding:"10px",border:"1px solid black",textAlign:"center",float:"left"},children:Object(o.jsx)("h5",{children:"Paid: ".concat(z(h))})}),Object(o.jsx)("div",{style:{width:"150px",padding:"10px",border:"1px solid black",textAlign:"center",float:"left"},children:Object(o.jsx)("h5",{children:"Unpaid: ".concat(z(g))})}),Object(o.jsx)("div",{style:{width:"150px",padding:"10px",border:"1px solid black",textAlign:"center",float:"left"},children:Object(o.jsx)("h5",{children:"Total: ".concat(z(C))})})]}),Object(o.jsx)("div",{style:{color:"#dc143c",width:"600px",margin:"auto"},children:N.map((function(e){return Object(o.jsxs)("h3",{className:"pClient",children:[Object(o.jsx)("div",{style:{width:"250px",display:"inline-block"},children:Object(o.jsx)("span",{children:"".concat(e.client,": ")})}),Object(o.jsx)("div",{style:{width:"40px",display:"inline-block",textAlign:"right"},children:e.pending}),Object(o.jsx)("div",{style:{width:"40px",display:"inline-block"},children:Object(o.jsx)("span",{children:" / ".concat(e.total)})}),Object(o.jsx)("div",{style:{width:"115px",display:"inline-block"},children:Object(o.jsx)("span",{children:" payment status: "})}),"Paid"===e.payment?Object(o.jsx)("span",{children:"paid"}):"Unpaid"]})}))})]})};var de=function(e){var t=e.todayIs,n=Object(c.useContext)(we),a=Object(c.useState)([]),s=Object(l.a)(a,2),i=(s[0],s[1]),r=Object(c.useState)([]),d=Object(l.a)(r,2),j=d[0],u=d[1];return Object(c.useEffect)((function(){i(n.map((function(e){return e?{client:e.client,consigner:e.consigner,consignee:e.consignee,PoD:e.Pod,package:e.package,package1:e.package1,weight:e.weight,cWeight:e.cWeight,rate:e.rate,remark:e.remark,payment:e.payment,amount:e.amount,loading:e.loading,UnLoading:e.uloading,id:e.id}:""}))),u(n.map((function(e){return e.package1>0?{client:e.client,stocks:"".concat(e.package1," / ").concat(e.package),payment:e.payment}:""}))),j.sort()}),[]),Object(o.jsxs)("div",{className:"print ",children:[Object(o.jsx)(se,{today:t}),Object(o.jsx)("p",{children:"Consignment List"}),Object(o.jsxs)("div",{className:"printCons",style:{color:"#dc143c",width:"1500px",margin:"auto"},children:[Object(o.jsxs)("p",{style:{fontSize:"12px",border:"1px solid black",background:"lightgray"},children:[Object(o.jsx)("span",{style:{width:"220px"},children:"Client"}),Object(o.jsx)("span",{style:{width:"100px"},children:"Consignee"}),Object(o.jsx)("span",{style:{width:"70px"},children:"Consigner"}),Object(o.jsx)("span",{style:{width:"70px"},children:"Loading"}),Object(o.jsx)("span",{style:{width:"70px"},children:"Unloading"}),Object(o.jsx)("span",{style:{width:"70px"},children:"Delivery"}),Object(o.jsx)("span",{style:{width:"80px"},children:"Pod"}),Object(o.jsx)("span",{style:{width:"50px"},children:"Pkg"}),Object(o.jsx)("span",{style:{width:"35px"},children:"Weight"}),Object(o.jsx)("span",{style:{width:"35px"},children:"cWeight"}),Object(o.jsx)("span",{style:{width:"30px"},children:"Rate"}),Object(o.jsx)("span",{style:{width:"60px"},children:"Amount"}),Object(o.jsx)("span",{style:{width:"45px"},children:"Payment"}),Object(o.jsx)("span",{style:{width:"45px"},children:"Book"}),Object(o.jsx)("span",{style:{width:"45px"},children:"Page"}),Object(o.jsx)("span",{style:{width:"100px"},children:"Remark"})]}),n.map((function(e){return Object(o.jsxs)("p",{style:{fontSize:"12px",border:"1px solid black"},children:[Object(o.jsx)("span",{style:{width:"220px"},children:Object(o.jsx)("b",{children:"".concat(e.client," ")})}),Object(o.jsx)("span",{style:{width:"100px"},children:"".concat(e.consigner," ")}),Object(o.jsx)("span",{style:{width:"70px"},children:"".concat(e.consignee," ")}),Object(o.jsx)("span",{style:{width:"70px"},children:"".concat(e.loading," ")}),Object(o.jsx)("span",{style:{width:"70px"},children:"".concat(e.uloading," ")}),Object(o.jsx)("span",{style:{width:"70px"},children:"".concat(e.delivery," ")}),Object(o.jsx)("span",{style:{width:"80px"},children:"".concat(e.Pod," ")}),Object(o.jsx)("span",{style:{width:"50px"},children:"".concat(e.package1," / ").concat(e.package," ")}),Object(o.jsx)("span",{style:{width:"35px"},children:"".concat(e.weight," ")}),Object(o.jsx)("span",{style:{width:"35px"},children:"".concat(e.cWeight," ")}),Object(o.jsx)("span",{style:{width:"30px"},children:"".concat(e.rate," ")}),Object(o.jsx)("span",{style:{width:"60px"},children:"".concat(e.amount," ")}),Object(o.jsx)("span",{style:{width:"45px"},children:"".concat(e.payment," ")}),Object(o.jsx)("span",{style:{width:"45px"},children:"".concat(e.book," ")}),Object(o.jsx)("span",{style:{width:"45px"},children:"".concat(e.page," ")}),Object(o.jsx)("span",{style:{width:"100px"},children:"".concat(e.remark," ")})]})}))]})]})},je=function(e){e.sort((function(e,t){var n=e.client.toLowerCase(),c=t.client.toLowerCase();return n<c?-1:n>c?1:0}))};var ue=function(e){var t=e.clientPrint,n=e.consPrint,a=e.onclick,s=Object(c.useContext)(Ne),i=Object(c.useContext)(we),r=Object(c.useState)([]),d=Object(l.a)(r,2),j=d[0],u=d[1],b=s.map((function(e){return e.clientName})).sort(),p=s.map((function(e){return e.clientName})).sort().splice(6,1).toString(),h=Object(c.useState)([]),O=Object(l.a)(h,2),x=O[0],m=O[1],g=Object(c.useState)(),f=Object(l.a)(g,2),v=(f[0],f[1]),y=Object(c.useState)([]),C=Object(l.a)(y,2),k=(C[0],C[1],document.getElementById("clients"));je(i),Object(c.useEffect)((function(){u(i.filter((function(e){return"To Pay"===e.payment})))}),[]),console.log(j);var N=[];return Object(o.jsx)("div",{children:Object(o.jsx)("div",{style:{width:"1210px",margin:"auto"},children:Object(o.jsxs)("form",{id:"clients",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Select Client"}),Object(o.jsx)("select",{name:"clients",onChange:function(e){return t=e.target.value,v(t.toString()),void m(j.map((function(e){if(e.client.startsWith(t.toString()?t.toString():p))return e})).filter((function(e){return void 0!=e})));var t},children:b.map((function(e){return Object(o.jsx)("option",{value:e,className:"selectName",children:e},e)}))})]}),Object(o.jsx)("div",{children:x?x.map((function(e){return Object(o.jsx)("div",{className:"form-group",onChange:function(e){return t=e.target.value,void N.push(t);var t},children:Object(o.jsxs)("label",{className:"checkbox-label",for:e.client,children:[Object(o.jsx)("input",{type:"checkbox",id:e.client,name:e.client,value:"".concat(e.client,", ").concat(e.consigner,", ").concat(e.consignee,", ").concat(e.Pod,", ").concat(e.package,", ").concat(e.cWeight,", ").concat(e.amount,", ").concat(e.rate,", ").concat(e.book,", ").concat(e.page)}),Object(o.jsx)("span",{className:"checkmark"}),"".concat(e.client,", ").concat(e.Pod,", Rs.").concat(e.amount)]},e.client)})})):"no pending consignments"}),Object(o.jsx)("button",{className:"formButton",onClick:function(){return t(k.elements[0].value),a(!1),console.log(N),void n(N)},children:"Submit"})]})})})};var be=function(e){return Object(o.jsx)(y.a,{isOpen:e.modal,style:{overlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(20, 20, 20, 0.9)",backdropFilter:"blur(10px)",zIndex:999},content:{inset:0,background:"rgba(40, 44, 52, 0)"}},children:e.children})};var pe=function(e){return Object(o.jsxs)("div",{className:"invoiceRow",children:[Object(o.jsx)("p",{style:{width:"8%"},children:"Row Labels"}),Object(o.jsx)("p",{children:e.billRow?e.billRow[1]:"Consigner"}),Object(o.jsx)("p",{style:{width:"19%"},children:e.billRow?e.billRow[0]:"Consignee"}),Object(o.jsx)("p",{children:e.billRow?e.billRow[3]:"PoD"}),Object(o.jsx)("p",{style:{width:"7%"},children:e.billRow?e.billRow[8]:"Book"}),Object(o.jsxs)("p",{style:{width:"7%"},children:[e.billRow?e.billRow[9]:"Page"," "]}),Object(o.jsx)("p",{children:e.billRow?e.billRow[4]:"Package"}),Object(o.jsx)("p",{children:e.billRow?e.billRow[5]:"Weight"}),Object(o.jsx)("p",{style:{width:"7%"},children:e.billRow?e.billRow[7]:"Rate"}),Object(o.jsx)("p",{children:e.billRow?e.billRow[6]:"Amount(Rs.)"})]})};var he=function(e){var t=e.todayIs,n=Object(c.useState)(!0),a=Object(l.a)(n,2),s=a[0],i=a[1],r=Object(c.useState)(),d=Object(l.a)(r,2),j=d[0],u=d[1],b=Object(c.useState)(),p=Object(l.a)(b,2),h=p[0],O=p[1],x=function(e){return i(e)},m=function(e){return u(e)},g=h?h.map((function(e){return e.split(",")})):"",f=g?g.map((function(e){return parseInt(e[6])})):0,v=g?g.map((function(e){return parseInt(e[4])})):0,y=g?g.map((function(e){return parseInt(e[5])})):0,C=g?g.map((function(e){return parseInt(e[7])})):0;return Object(c.useEffect)((function(){m()}),[]),Object(o.jsxs)("div",{className:"invoice",children:[Object(o.jsx)("div",{style:{height:"100px",borderBottom:"1px solid black"},onClick:function(){return i(!0)}}),Object(o.jsx)("p",{className:"invoiceDate",style:{textAlign:"right"},children:t}),Object(o.jsx)("p",{children:"To"}),Object(o.jsx)("div",{style:{borderBottom:"1px solid black"},children:Object(o.jsx)("p",{children:Object(o.jsx)("b",{children:j})})}),Object(o.jsxs)("div",{style:{padding:"20px 0"},children:[Object(o.jsx)("div",{style:{background:"#dcdcdc",height:"40px"},children:Object(o.jsx)(pe,{})}),g?g.map((function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(pe,{billRow:e})})})):""]}),Object(o.jsxs)("div",{style:{marginTop:"0",float:"left",width:"900px"},children:[Object(o.jsx)("div",{style:{width:"560px",float:"left",textAlign:"left"},children:Object(o.jsx)("p",{children:"Grand Total"})}),Object(o.jsx)("div",{style:{width:"75px",float:"left",textAlign:"left"},children:Object(o.jsx)("p",{children:z(v)})}),Object(o.jsx)("div",{style:{width:"75px",float:"left",textAlign:"left"},children:Object(o.jsx)("p",{children:z(y)})}),Object(o.jsx)("div",{style:{width:"75px",float:"left",textAlign:"left"},children:Object(o.jsx)("p",{children:z(C)})}),Object(o.jsx)("div",{style:{width:"75px",float:"left",textAlign:"left"},children:Object(o.jsx)("p",{children:z(f)})})]}),Object(o.jsxs)(be,{modal:s,children:[Object(o.jsx)(ue,{onclick:x,consPrint:function(e,t){O(e),i(t)},clientPrint:m}),Object(o.jsx)("button",{type:"button",className:"roundButton",onClick:function(){return x(!1)},children:" X "})]})]})};var Oe=function(e){var t=e.colorsStates,n=e.todayIs,a=Object(c.useState)(),s=Object(l.a)(a,2),i=s[0],r=s[1],d=Object(c.useRef)(),j="Main Report"===i?Object(o.jsx)(ie,{colorsStates:t,todayIs:n}):"Client List"===i?Object(o.jsx)(le,{todayIs:n}):"Pending Bills"===i?Object(o.jsx)(re,{todayIs:n}):"Pending Stocks"===i?Object(o.jsx)(oe,{todayIs:n}):"Consignments"===i?Object(o.jsx)(de,{todayIs:n}):"Invoice"===i?Object(o.jsx)(he,{todayIs:n}):Object(o.jsx)(ie,{colorsStates:t,todayIs:n}),u=function(e){return r(e)};return Object(o.jsxs)("div",{className:"printLayout",children:[Object(o.jsx)("p",{children:" Select from left side menu, preview and save 'Save to PDF' from the button at the bottom"}),Object(o.jsx)("div",{className:"printable",children:Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"printMenu",children:[Object(o.jsx)("h4",{onClick:function(){return u("Main Report")},children:"Main Report"}),Object(o.jsx)("h4",{onClick:function(){return u("Client List")},children:"Client List"}),Object(o.jsx)("h4",{onClick:function(){return u("Consignments")},children:"Consignments"}),Object(o.jsx)("h4",{onClick:function(){return u("Pending Bills")},children:"Pending Bills"}),Object(o.jsx)("h4",{onClick:function(){return u("Pending Stocks")},children:"Pending Stocks"}),Object(o.jsx)("h4",{onClick:function(){return u("Invoice")},children:"Invoice"})]}),Object(o.jsx)("div",{className:"printView",children:Object(o.jsx)(ae,{ref:d,content:"content",children:j})})]})}),Object(o.jsx)($.a,{trigger:function(){return Object(o.jsx)("button",{className:"button",children:"Save to PDF"})},content:function(){return d.current}}),Object(o.jsx)(f,{})]})},xe=n(128);n(315);var me=function(e){var t=e.resConsgn,n=e.clickedId,a=e.todayInSeconds,s=(e.clickedName,e.sortColumn,Object(c.useContext)(ke)),i="#9acd32",l="#888888",r="#ff6347",d="#dc143c",j="#1e90ff";(function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()();var u,b="L";return"paid"===t.payment&&"Billed"===t.status?(b="P",u=l):"Billed"===t.status||"paid"===t.payment&&t.package1<1?(b="B",u=i):t.package1<1||"paid"===t.payment&&t.package1<1?(b="D",u=d):t.unload<a?(b="U",u=j):(b="L",u=r),Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"consList",children:Object(o.jsxs)("div",{className:"consName",children:[Object(o.jsxs)("div",{className:"consCell",style:{width:"200px",borderRight:"5px solid ".concat("Paid"===t.payment&&t.package1<1?l:"Paid"===t.payment?i:t.package1<1?d:"To Pay"===t.payment?r:l)},children:[Object(o.jsx)("p",{children:"Client:"}),Object(o.jsx)("h4",{style:"Paid"===t.payment?{color:"".concat(i)}:t.package1<1?{color:"".concat(d)}:"To Pay"===t.payment?{color:"".concat(r)}:{color:"".concat(l)},children:t.client})]}),Object(o.jsxs)("div",{className:"consCell",style:{width:"90px"},children:[Object(o.jsx)("p",{children:"Consignee:"}),Object(o.jsx)("h4",{style:{color:"".concat(l)},children:t.consigner})]}),Object(o.jsxs)("div",{className:"consCell",style:{width:"90px"},children:[Object(o.jsx)("p",{children:"Consigner:"}),Object(o.jsx)("h4",{style:{color:"".concat(l)},children:t.consignee})]}),Object(o.jsxs)("div",{className:"consCell",style:{width:"100px"},children:[Object(o.jsx)("p",{children:"Loading:"}),Object(o.jsx)("h4",{className:"ulDate",style:{color:t.unload<a?"".concat(l):"".concat(j)},children:"".concat(t.loading,"\n                        ").concat(t.uloading)})]}),Object(o.jsxs)("div",{className:"consCell",style:{width:"100px"},children:[Object(o.jsx)("p",{children:"Unloading:"}),Object(o.jsx)("h4",{className:"ulDate",style:{color:t.delv<a?"".concat(l):"".concat(j)},children:t.delivery})]}),Object(o.jsxs)("div",{className:"consCell",style:{width:"80px"},children:[Object(o.jsx)("p",{children:"PoD:"}),Object(o.jsx)("h4",{style:{color:"".concat(l)},children:t.Pod})]}),Object(o.jsxs)("div",{className:"consCell",style:{width:"70px"},children:[Object(o.jsx)("p",{children:"Pkg:"}),Object(o.jsx)("h4",{style:{color:"".concat(l)},children:"".concat(t.package1," / ").concat(t.package)})]}),Object(o.jsxs)("div",{className:"consCell",style:{width:"70px"},children:[Object(o.jsx)("p",{children:"Weight:"}),Object(o.jsx)("h4",{style:{color:"".concat(l)},children:t.weight})]}),Object(o.jsxs)("div",{className:"consCell",style:{width:"70px"},children:[Object(o.jsx)("p",{children:"C-Weight:"}),Object(o.jsx)("h4",{children:t.cWeight})]}),Object(o.jsxs)("div",{className:"consCell",style:{width:"50px"},children:[Object(o.jsx)("p",{children:"Rate:"}),Object(o.jsx)("h4",{children:t.rate})]}),Object(o.jsxs)("div",{className:"consCell",style:{width:"80px"},children:[Object(o.jsx)("p",{children:"Amount:"}),Object(o.jsx)("h4",{style:"Paid"===t.payment?{color:"".concat(i)}:t.package1<1?{color:"".concat(d)}:"To Pay"===t.payment?{color:"".concat(r)}:{color:"".concat(l)},children:t.amount})]}),Object(o.jsxs)("div",{className:"consCell",style:{width:"80px",border:"none"},children:[Object(o.jsx)("p",{children:"Payment:"}),Object(o.jsx)("h4",{style:{color:"".concat(l)},children:t.payment})]}),Object(o.jsxs)("div",{className:"listButtons tooltip",children:[Object(o.jsxs)("button",{type:"button",className:"roundClick",onClick:function(){return e=t.id,c=t.client,n(e,c),void s.countDispatch({type:"modal",modal:!0,value:""});var e,c},children:[" ",Object(o.jsx)(h.b,{})," "]}),Object(o.jsx)(xe.a,{content:"book: ".concat(t.book,", page: ").concat(t.page,", ").concat(t.remark,", ").concat(t.tempo),children:Object(o.jsxs)("button",{type:"button",className:"roundClick",style:{background:"".concat(u)},children:[b," "]})})]})]})})})},ge={client:"",consigner:"",consignee:"",PoD:"",Loading:null,UnLoading:null,package:null,package1:null,weight:null,cWeight:null,rate:null,amnount:null,payment:"",remark:"",tempo:"",id:null};var fe=function(e){var t=e.nameC,n=e.id,a=e.noId,s=e.onclick,i=Object(c.useContext)(ke),d=Object(c.useContext)(Ne),j=d.map((function(e){return e.clientName})),u=t.split("/"),b=d[j.indexOf(u[0])].consigner,p=Object(c.useState)(ge),O=Object(l.a)(p,2),x=O[0],m=O[1],g=Object(c.useState)(0),f=Object(l.a)(g,2),v=f[0],y=f[1],C=Object(c.useState)(),w=Object(l.a)(C,2),P=w[0],I=w[1],B=Object(c.useState)(),R=Object(l.a)(B,2),L=R[0],W=R[1],E=Object(c.useState)(),A=Object(l.a)(E,2),U=(A[0],A[1]),F=Object(c.useState)(),M=Object(l.a)(F,2);M[0],M[1],console.log(n);var J,z=function(){var e=Object(N.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("http://localhost:5000/consignments/".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=Object(c.useState)(),G=Object(l.a)(X,2),Y=(G[0],G[1],[]),_=document.getElementById("addCons");Object(c.useEffect)((function(){m(Object(r.a)(Object(r.a)({},x),{},{package1:"".concat(x.package1-v)}))}),[v]);var H=function(){m(Object(r.a)(Object(r.a)({},x),{},{package1:"".concat(P)})),y(0)};return Object(c.useEffect)((function(){z().then((function(e){W(e.data.consigner),m(Object(r.a)(Object(r.a)({},x),{},{consignee:"".concat(e.data.consignee),PoD:"".concat(e.data.Pod),package:"".concat(e.data.package),package1:"".concat(e.data.package1),weight:"".concat(e.data.weight),cWeight:"".concat(e.data.cWeight),rate:"".concat(e.data.rate),remark:"".concat(e.data.remark),payment:"".concat(e.data.payment),loading:e.data.loading,UnLoading:"".concat(e.data.uloading),tempo:"".concat(e.data.tempo),id:"".concat(e.data.id),delivery:"".concat(e.data.delivery),book:"".concat(e.data.book),page:"".concat(e.data.page)})),U(e.data.loading.toString().slice(6)+"/"+e.data.loading.toString().slice(3,5)+"/"+e.data.loading.toString().slice(0,2)),I(e.data.package1),console.log("loads "+e.data.loading.slice(6)),s(!1)})),H()}),[]),Object(o.jsxs)("div",{className:"consUpdate",children:[Object(o.jsx)("h3",{className:"modalTitle",children:" Update Consignment "}),Object(o.jsxs)("form",{name:"addclientform",id:"addCons",style:{width:"1010px"},children:[Object(o.jsxs)("div",{className:"formSec",children:[Object(o.jsx)(T,{label:"Client's Name",option:j,selectedId:t,id:"selectedClientName"}),Object(o.jsx)(T,{label:"Consigner",option:b,selectedId:L}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Consignee"}),Object(o.jsx)("input",{label:"Consignee",value:x.consignee,onChange:function(e){return m(Object(r.a)(Object(r.a)({},x),{},{consignee:e.target.value}))}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Loading"}),Object(o.jsx)("input",{value:x.loading,onChange:function(e){return m(Object(r.a)(Object(r.a)({},x),{},{loading:e.target.value}))},style:{width:"140px"}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Unloading"}),Object(o.jsx)("input",{value:x.UnLoading,onChange:function(e){return m(Object(r.a)(Object(r.a)({},x),{},{UnLoading:e.target.value}))},style:{width:"140px"}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"PoD"}),Object(o.jsx)("input",{value:x.PoD,onChange:function(e){return m(Object(r.a)(Object(r.a)({},x),{},{PoD:e.target.value}))}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Weight"}),Object(o.jsx)("input",{value:x.weight,onChange:function(e){return m(Object(r.a)(Object(r.a)({},x),{},{weight:e.target.value}))}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"C-Weight"}),Object(o.jsx)("input",{value:x.cWeight,onChange:function(e){return m(Object(r.a)(Object(r.a)({},x),{},{cWeight:e.target.value}))}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Rate"}),Object(o.jsx)("input",{value:x.rate,onChange:function(e){return m(Object(r.a)(Object(r.a)({},x),{},{rate:e.target.value}))}})]})]}),Object(o.jsxs)("div",{className:"formSec",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Package"}),Object(o.jsx)("p",{style:{width:"70px",float:"left",margin:"0"},children:"".concat(x.package1," / ").concat(x.package)}),Object(o.jsx)("h5",{style:{width:"50px",float:"left",margin:"0 10px"},children:"minus"}),Object(o.jsx)("input",{type:"number",onChange:function(e){return y(e.target.value)},style:{width:"70px",float:"left"},max:x.package1}),Object(o.jsx)("button",{type:"button",className:"roundClick",onClick:function(){return H()},style:{float:"left",margin:"5px 10px"},children:Object(o.jsx)(h.d,{})})]}),Object(o.jsxs)("p",{className:"amount",children:[" Amount = ",x.cWeight&&x.rate?x.cWeight*x.rate:0," "]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Payment"}),Object(o.jsxs)("select",{children:[Object(o.jsx)("option",{value:x.payment,className:"selectName",selected:!0,children:x.payment},x.payment),["Paid","To Pay","Billed"].map((function(e){return Object(o.jsx)("option",{value:e,className:"selectName",children:e},e)}))]})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Remark"}),Object(o.jsx)("input",{value:x.remark,onChange:function(e){return m(Object(r.a)(Object(r.a)({},x),{},{remark:e.target.value}))}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Tempo"}),Object(o.jsx)("input",{value:x.tempo,onChange:function(e){return m(Object(r.a)(Object(r.a)({},x),{},{tempo:e.target.value}))}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Delivery"}),Object(o.jsx)("input",{value:x.delivery,onChange:function(e){return m(Object(r.a)(Object(r.a)({},x),{},{delivery:e.target.value}))},style:{width:"140px"}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Book No"}),Object(o.jsx)("input",{label:"Consignee",value:x.book,onChange:function(e){return m(Object(r.a)(Object(r.a)({},x),{},{book:e.target.value}))}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"form-input-label",children:"Page No"}),Object(o.jsx)("input",{label:"Consignee",value:x.page,onChange:function(e){return m(Object(r.a)(Object(r.a)({},x),{},{page:e.target.value}))}})]})]})]}),Object(o.jsx)("button",{className:"formButton",onClick:function(){return function(){var e;for(y(Y[10]),e=0;e<_.length;e++)Y.push(_.elements[e].value);J={client:Y[0],consigner:Y[1],consignee:Y[2],loading:Y[3],uloading:Y[4],load:Date.parse(Y[3].slice(3,6)+Y[3].slice(0,3)+Y[3].slice(6,10)),unload:Date.parse(Y[4].slice(3,6)+Y[4].slice(0,3)+Y[4].slice(6,10)),Pod:Y[4].slice(0,5)+" U",package:x.package,package1:x.package1?x.package1:0,weight:Y[6],cWeight:Y[7],rate:Y[8],amount:Y[7]*Y[8],payment:Y[11],remark:Y[12],tempo:Y[13],delivery:Y[14],delv:Date.parse(Y[14].slice(3,6)+Y[14].slice(0,3)+Y[14].slice(6,10)),book:Y[15],page:Y[16]},function(){var e=Object(N.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.put("http://localhost:5000/consignments/".concat(n),J);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),i.countDispatch({type:"modal",modal:!1,value:""}),S.a.success("Consignment is updated",{position:S.a.POSITION.BOTTOM_CENTER})}()},children:"Submit"}),Object(o.jsx)("button",{type:"button",className:"roundButton",onClick:function(){var e;a(e)},children:" X "})]})};var ve=function(e){var t=e.sorter,n=function(e){return t(e)};return Object(o.jsx)("div",{className:"consTitle",children:Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"consCell consCellButton",style:{width:"205px"},onClick:function(){return n("client")},children:Object(o.jsx)("p",{children:"Client:"})}),Object(o.jsx)("div",{className:"consCell consCellButton",style:{width:"90px"},onClick:function(){return n("consigner")},children:Object(o.jsx)("p",{children:"Consignee:"})}),Object(o.jsx)("div",{className:"consCell consCellButton",style:{width:"90px"},onClick:function(){return n("consignee")},children:Object(o.jsx)("p",{children:"Consigner:"})}),Object(o.jsx)("div",{className:"consCell consCellButton",style:{width:"100px"},onClick:function(){return n("load")},children:Object(o.jsx)("p",{children:"L/UL:"})}),Object(o.jsx)("div",{className:"consCell consCellButton",style:{width:"100px"},onClick:function(){return n("delv")},children:Object(o.jsx)("p",{children:"Delivery:"})}),Object(o.jsx)("div",{className:"consCell consCellButton",style:{width:"80px"},onClick:function(){return n("Pod")},children:Object(o.jsx)("p",{children:"PoD:"})}),Object(o.jsx)("div",{className:"consCell consCellButton",style:{width:"70px"},onClick:function(){return n("package1")},children:Object(o.jsx)("p",{children:"Pkg:"})}),Object(o.jsx)("div",{className:"consCell consCellButton",style:{width:"70px"},onClick:function(){return n("weight")},children:Object(o.jsx)("p",{children:"Weight:"})}),Object(o.jsx)("div",{className:"consCell consCellButton",style:{width:"70px"},onClick:function(){return n("cWeight")},children:Object(o.jsx)("p",{children:"C-Weight:"})}),Object(o.jsx)("div",{className:"consCell consCellButton",style:{width:"50px"},onClick:function(){return n("rate")},children:Object(o.jsx)("p",{children:"Rate:"})}),Object(o.jsx)("div",{className:"consCell consCellButton",style:{width:"80px"},onClick:function(){return n("amount")},children:Object(o.jsx)("p",{children:"Amount:"})}),Object(o.jsx)("div",{className:"consCell consCellButton",style:{width:"80px",border:"none"},onClick:function(){return n("payment")},children:Object(o.jsx)("p",{children:"Payment:"})}),Object(o.jsx)("div",{style:{height:"80px"}})]})})};function ye(e){var t=e.todayInSeconds,n=Object(c.useState)(),a=Object(l.a)(n,2),s=a[0],i=a[1],r=Object(c.useState)(),d=Object(l.a)(r,2),j=d[0],u=d[1],b=Object(c.useState)(!1),p=Object(l.a)(b,2),O=p[0],x=p[1],m=Object(c.useState)([]),v=Object(l.a)(m,2),y=(v[0],v[1],Object(c.useState)()),C=Object(l.a)(y,2),k=C[0],N=C[1],w=Object(c.useContext)(ke);console.log(k);var S=Object(c.useContext)(we),P=function(e,t){console.log(t+"..."+e),i(e),u(t)},D=function(e){return x(e)};console.log(O+"now");var I=[],B=function(){"amount"===k||"package1"===k||"load"===k||"unload"===k||"weight"===k||"cWeight"===k||"rate"===k||"delivery"===k?S.sort((function(e,t){return t[k]-e[k]})):"client"!==k&&"consigner"!==k&&"consignee"!==k&&"Pod"!==k&&"payment"!==k||S.sort((function(e,t){var n=e[k].toLowerCase(),c=t[k].toLowerCase();return n<c?-1:n>c?1:0}))};B();var T=function(){I=S.map((function(e){return Object(o.jsx)(me,{resConsgn:e,clickedId:P,todayInSeconds:t})}))};T();return Object(c.useEffect)((function(){B()}),[k]),Object(c.useEffect)((function(){T()}),[S]),Object(c.useEffect)((function(){T()}),[O]),Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"consSearchPanel",children:[Object(o.jsx)("div",{style:{position:"relative",float:"left"},children:Object(o.jsxs)("form",{name:"searchCons",id:"searchCons",children:[Object(o.jsx)("input",{type:"text",name:"searchTerm",placeholder:"Search by name"}),Object(o.jsx)("button",{type:"button",className:"roundClick",onClick:function(e){var t=document.getElementById("searchCons").elements[0].value;w.countDispatch({type:"searchTerm",value:t})},children:Object(o.jsx)(h.a,{})})]})}),Object(o.jsxs)("div",{className:"datePad",style:{position:"relative",float:"left",width:"400px"},children:[Object(o.jsx)("h5",{children:"Search by Date"}),Object(o.jsx)(g,{})]}),Object(o.jsx)("div",{style:{position:"relative",float:"left",paddingTop:"10px"},children:Object(o.jsx)("button",{type:"button",className:"button center",onClick:function(){return D(!0)},children:" Add Consignment "})})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{className:"title",children:"Consignment List"}),Object(o.jsx)(ve,{sorter:function(e){return N(e)}}),Object(o.jsx)("div",{className:"consContent",children:Object(o.jsx)(K,{listData:I,len:I.length,entries:6})})]}),Object(o.jsxs)(be,{modal:O,children:[Object(o.jsx)(E,{onclick:function(){return D()}}),Object(o.jsx)("button",{type:"button",className:"roundButton",onClick:function(){return D(!1)},children:" X "})]}),s?Object(o.jsx)(fe,{id:s,nameC:j,noId:function(e){return i(e)},onclick:D}):"",Object(o.jsx)(f,{})]})}var Ce=function(){var e=Object(c.useContext)(we),t=(new Date).setHours(0,0,0,0);return Object(o.jsxs)("div",{className:"main",children:[Object(o.jsx)("h3",{className:"title",children:"Upcoming tasks"}),Object(o.jsxs)("div",{className:"resultBox",style:{marginLeft:"250px",marginRight:"20px",height:"480px",overflowY:"scroll"},children:[Object(o.jsx)("h5",{children:"Deliveries ahead"}),e.map((function(e){return e.delv>=t?Object(o.jsx)("h4",{style:{marginTop:"5px"},children:"".concat(e.delivery,",  ").concat(e.client,", Pkg: ").concat(e.package)}):null}))]}),Object(o.jsxs)("div",{className:"resultBox",style:{height:"480px",overflowY:"scroll"},children:[Object(o.jsx)("h5",{children:"Unloading ahead"}),e.map((function(e){return e.unload>=t?Object(o.jsx)("h4",{style:{marginTop:"5px"},children:"".concat(e.uloading,",  ").concat(e.client,", Pkg: ").concat(e.package)}):null}))]}),Object(o.jsx)(f,{})]})},ke=a.a.createContext(),Ne=a.a.createContext(),we=a.a.createContext();S.a.configure();var Se=function(){var e={displayFrame:"",modal:!1,modalContent:"",startDate:"Jan 8 2021",endDate:"",client:"client?_sort=clientName",consignments:"consignments",searchTerm:""},t={colorStateGreen:"#9acd32",colorStateGray:"#888888",colorStateOrange:"#ff6347",colorStateRed:"#dc143c",colorStateDBlue:"#000080"},n=Object(c.useReducer)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"main":return{displayFrame:n.value};case"modal":return Object(r.a)(Object(r.a)({},t),{},{modalContent:n.value,modal:n.modal});case"nav":return{displayFrame:n.value};case"searchByDate":return Object(r.a)(Object(r.a)({},t),{},{startDate:n.startDate,endDate:n.endDate});case"searchTerm":return Object(r.a)(Object(r.a)({},t),{},{searchTerm:n.value});case"sorter":return{consignments:n.value};default:return t}}),e),a=Object(l.a)(n,2),s=a[0],i=a[1],j=(new Date).setHours(0,0,0,0),u=Date.parse(new Date("01/01/2021")),p=Date.parse(new Date),h=Object(c.useState)(),O=Object(l.a)(h,2),x=O[0],m=void 0===x?u:x,g=O[1],f=Object(c.useState)(),v=Object(l.a)(f,2),y=v[0],C=void 0===y?p:y,k=v[1],N=Object(c.useState)([]),w=Object(l.a)(N,2),S=w[0],P=w[1],D=Object(c.useState)([]),I=Object(l.a)(D,2),B=I[0],T=I[1],R=Object(c.useState)(),L=Object(l.a)(R,2),E=L[0],U=L[1];A.then((function(e){U(e)}));var F=function(e){return W(e).then((function(e){return T(e)}))};Object(c.useEffect)((function(){var t;t=s.client?s.client:e.client,W(t).then((function(e){return P(e)})),F(s.consignments?s.consignments:e.consignments)}),[s.modal]),Object(c.useEffect)((function(){s.searchTerm?F("consignments?q=".concat(s.searchTerm)):F("consignments"),console.log(s.searchTerm)}),[s.searchTerm]);var M=function(){g(Date.parse(s.startDate)),k(Date.parse(s.endDate))};Object(c.useEffect)((function(){M()}),[]),Object(c.useEffect)((function(){M(),B.filter((function(e){return e.load>=m?m:u&&e.unload<=C?C:p}))}),[s.startDate,s.endDate]),console.log(u+","+p),console.log(m+","+C);var J="Main"===s.displayFrame?Object(o.jsx)(H,{modalOut:s.modal,modalContentOut:s.modalContent,colorsStates:t,todayInSeconds:j}):"ClientList"===s.displayFrame?Object(o.jsx)(Q,{}):"Status"===s.displayFrame?Object(o.jsx)(Ce,{}):"LoadingUnloading"===s.displayFrame?Object(o.jsx)(ye,{todayInSeconds:j}):"Print"===s.displayFrame?Object(o.jsx)(Oe,{colorsStates:t,todayIs:E}):Object(o.jsx)(b,{});return Object(o.jsx)(ke.Provider,{value:{countState:s,countDispatch:i},children:Object(o.jsx)(Ne.Provider,{value:S,children:Object(o.jsx)(we.Provider,{value:B.filter((function(e){return m?e.load>=m:e.load>=u&&C?e.unload<=C:e.unload<=p})),children:Object(o.jsx)("div",{className:"App",id:"route",children:Object(o.jsxs)(d,{children:[" ",J," "]})})})})})},Pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,324)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(Se,{})}),document.getElementById("root")),Pe()},89:function(e,t,n){},90:function(e,t,n){}},[[316,1,2]]]);
//# sourceMappingURL=main.c37c2905.chunk.js.map